/* VoiceTranslate AI — style.css — v4 */
:root {
  --bg:#0a0e1a;--surface:#111827;--surface2:#1a2236;
  --border:rgba(99,179,237,0.15);--accent:#3b82f6;--accent2:#8b5cf6;
  --accent3:#10b981;--text:#e2e8f0;--text-muted:#94a3b8;
  --danger:#ef4444;--success:#10b981;
  --radius:14px;--shadow:0 4px 32px rgba(0,0,0,0.4);
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;line-height:1.6;
  background-image:radial-gradient(ellipse 80% 50% at 50% -20%,rgba(59,130,246,.08),transparent),
  radial-gradient(ellipse 60% 40% at 80% 80%,rgba(139,92,246,.06),transparent)}
body.light{--bg:#f0f4f8;--surface:#ffffff;--surface2:#e8edf3;--border:rgba(0,0,0,0.1);--text:#1a202c;--text-muted:#64748b}

/* Header */
header{position:sticky;top:0;z-index:100;background:rgba(10,14,26,.85);backdrop-filter:blur(16px);border-bottom:1px solid var(--border);padding:14px 24px}
.header-inner{max-width:1100px;margin:0 auto;display:flex;align-items:center;justify-content:space-between}
.brand{display:flex;align-items:center;gap:12px}
.brand-icon{font-size:1.8rem}
.brand-name{display:block;font-size:1.1rem;font-weight:700;background:linear-gradient(135deg,var(--accent),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.brand-sub{display:block;font-size:.72rem;color:var(--text-muted)}
.header-right{display:flex;align-items:center;gap:10px}
.status-pill{display:flex;align-items:center;gap:7px;background:var(--surface2);border:1px solid var(--border);border-radius:20px;padding:5px 14px;font-size:.78rem;color:var(--text-muted)}
.dot{width:8px;height:8px;border-radius:50%;background:var(--text-muted);transition:background .3s}
.dot.online{background:var(--success);box-shadow:0 0 6px var(--success)}
.dot.offline{background:var(--danger)}
.dot.loading{background:#f59e0b;animation:pulse 1s infinite}
.theme-btn{background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:6px 10px;font-size:1rem;cursor:pointer;transition:all .2s}
.theme-btn:hover{border-color:var(--accent)}

/* Tab Nav */
.tab-nav{background:var(--surface);border-bottom:1px solid var(--border);position:sticky;top:57px;z-index:99}
.tab-nav-inner{max-width:1100px;margin:0 auto;display:flex;gap:0;padding:0 20px}
.tab-btn{background:none;border:none;border-bottom:3px solid transparent;padding:14px 20px;color:var(--text-muted);font-family:'Inter',sans-serif;font-size:.85rem;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}
.tab-btn:hover{color:var(--text)}
.tab-btn.active{color:var(--accent);border-bottom-color:var(--accent);font-weight:600}
.tab-content{display:none}
.tab-content.active{display:block}

/* Main */
main{max-width:1100px;margin:0 auto;padding:28px 20px 60px;display:flex;flex-direction:column;gap:20px}
.card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow);animation:fadeIn .4s ease}
.card-title{font-size:.85rem;font-weight:600;letter-spacing:.04em;color:var(--text-muted);text-transform:uppercase;margin-bottom:16px}
.section-desc{font-size:.88rem;color:var(--text-muted);margin-bottom:20px;line-height:1.6}

/* Language Selector */
.lang-selector-row{display:grid;grid-template-columns:1fr auto 1fr;gap:20px;align-items:start}
.lang-col-label{display:block;font-size:.8rem;font-weight:600;color:var(--text-muted);text-transform:uppercase;letter-spacing:.06em;margin-bottom:12px}
.lang-pill-group{display:flex;flex-wrap:wrap;gap:8px}
.lang-pill{background:var(--surface2);border:1px solid var(--border);border-radius:20px;padding:7px 14px;font-size:.82rem;color:var(--text-muted);cursor:pointer;font-family:'Inter',sans-serif;transition:all .2s;white-space:nowrap}
.lang-pill:hover{border-color:var(--accent);color:var(--text)}
.lang-pill.active{background:rgba(59,130,246,.15);border-color:var(--accent);color:#93c5fd;font-weight:600;box-shadow:0 0 12px rgba(59,130,246,.2)}
.swap-btn{align-self:center;margin-top:28px;width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent2));border:none;color:#fff;font-size:1.3rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;box-shadow:0 4px 16px rgba(59,130,246,.35);font-family:'Inter',sans-serif}
.swap-btn:hover{transform:rotate(180deg) scale(1.1)}

/* Input */
.input-split{display:grid;grid-template-columns:1fr auto 1fr;gap:24px;align-items:start}
.or-divider{display:flex;align-items:center;justify-content:center;padding-top:54px;color:var(--text-muted);font-size:.8rem}
.or-divider span{background:var(--surface2);border:1px solid var(--border);border-radius:6px;padding:6px 10px}
.mic-wrapper{display:flex;flex-direction:column;align-items:center;gap:16px}
.mic-btn{width:88px;height:88px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent2));border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#fff;transition:all .2s;box-shadow:0 4px 20px rgba(59,130,246,.4)}
.mic-btn svg{width:34px;height:34px}
.mic-btn:hover{transform:scale(1.06)}
.mic-btn.recording{background:linear-gradient(135deg,#ef4444,#f97316);animation:mic-pulse 1.2s infinite}
.mic-hint{font-size:.8rem;color:var(--text-muted);text-align:center}
.waveform{display:flex;align-items:center;gap:4px;height:36px;opacity:0;transition:opacity .3s}
.waveform.active{opacity:1}
.bar{width:4px;border-radius:2px;background:linear-gradient(to top,var(--accent),var(--accent2));animation:wave .8s ease-in-out infinite}
.bar:nth-child(1){height:8px;animation-delay:0s}.bar:nth-child(2){height:18px;animation-delay:.1s}
.bar:nth-child(3){height:28px;animation-delay:.2s}.bar:nth-child(4){height:36px;animation-delay:.3s}
.bar:nth-child(5){height:28px;animation-delay:.2s}.bar:nth-child(6){height:22px;animation-delay:.15s}
.bar:nth-child(7){height:14px;animation-delay:.05s}.bar:nth-child(8){height:24px;animation-delay:.2s}
.bar:nth-child(9){height:10px;animation-delay:.1s}
.textarea-wrapper{position:relative;margin-bottom:12px}
textarea{width:100%;resize:vertical;background:var(--surface2);border:1px solid var(--border);border-radius:10px;padding:12px 14px;color:var(--text);font-family:'Inter',sans-serif;font-size:.9rem;line-height:1.5;outline:none;transition:border-color .2s}
textarea:focus{border-color:var(--accent)}
textarea::placeholder{color:var(--text-muted)}
.char-count{position:absolute;bottom:8px;right:10px;font-size:.7rem;color:var(--text-muted);font-family:'JetBrains Mono',monospace;pointer-events:none}
.btn-primary{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;background:linear-gradient(135deg,var(--accent),var(--accent2));border:none;border-radius:10px;padding:11px 20px;color:#fff;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .2s;font-family:'Inter',sans-serif}
.btn-primary:hover{opacity:.9;transform:translateY(-1px)}
.btn-primary:disabled{opacity:.5;cursor:not-allowed}
.btn-spinner{display:flex;align-items:center;gap:8px}
.spinner-svg{width:18px;height:18px;animation:spin .8s linear infinite}

/* Result */
.result-grid{display:grid;grid-template-columns:1fr 40px 1fr;gap:16px;align-items:start;margin-bottom:20px}
.result-arrow{display:flex;align-items:center;justify-content:center;font-size:1.4rem;color:var(--accent);padding-top:28px}
.result-box{background:var(--surface2);border:1px solid var(--border);border-radius:10px;padding:16px}
.result-label{font-size:.75rem;font-weight:600;color:var(--text-muted);text-transform:uppercase;letter-spacing:.05em;margin-bottom:10px}
.result-text{font-size:1rem;line-height:1.7;min-height:48px;color:var(--text)}
.tgt-box{border-color:rgba(59,130,246,.3)}
.tgt-box .result-text{color:#93c5fd;font-size:1.05rem}
.result-actions{display:flex;gap:8px;margin-top:12px;flex-wrap:wrap}
.play-btn{display:inline-flex;align-items:center;gap:6px;background:rgba(16,185,129,.15);border:1px solid rgba(16,185,129,.4);border-radius:7px;padding:6px 14px;color:var(--success);font-size:.82rem;cursor:pointer;font-family:'Inter',sans-serif;transition:all .2s}
.play-btn:hover{background:rgba(16,185,129,.25)}
.copy-btn{display:inline-flex;align-items:center;gap:6px;background:rgba(139,92,246,.15);border:1px solid rgba(139,92,246,.4);border-radius:7px;padding:6px 14px;color:#a78bfa;font-size:.82rem;cursor:pointer;font-family:'Inter',sans-serif;transition:all .2s}
.copy-btn:hover{background:rgba(139,92,246,.3)}
.copy-btn.copied{background:rgba(16,185,129,.15);border-color:rgba(16,185,129,.4);color:var(--success)}

/* Voice Speed Control */
.speed-control{margin-top:14px;padding-top:12px;border-top:1px solid var(--border)}
.speed-label{font-size:.78rem;color:var(--text-muted);display:block;margin-bottom:8px}
.speed-slider{width:100%;-webkit-appearance:none;height:4px;border-radius:2px;background:linear-gradient(90deg,var(--accent),var(--accent2));outline:none;cursor:pointer}
.speed-slider::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;border-radius:50%;background:var(--accent);cursor:pointer;box-shadow:0 0 6px rgba(59,130,246,.5)}

/* Metrics */
.metrics-row{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;padding-top:16px;border-top:1px solid var(--border)}
.metric{background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:12px 14px}
.metric-label{display:block;font-size:.73rem;color:var(--text-muted);margin-bottom:4px}
.metric-value{display:block;font-size:.88rem;font-weight:600;color:var(--text);font-family:'JetBrains Mono',monospace}
.confidence-bar{margin-top:6px;height:4px;background:var(--surface);border-radius:2px;overflow:hidden}
.confidence-fill{height:100%;width:0;border-radius:2px;background:linear-gradient(90deg,var(--accent),var(--accent3));transition:width .6s ease}

/* History */
.history-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
.history-header .card-title{margin-bottom:0}
.history-list{display:flex;flex-direction:column;gap:8px;max-height:280px;overflow-y:auto}
.history-empty{color:var(--text-muted);font-size:.85rem;padding:16px 0;text-align:center}
.history-item{display:grid;grid-template-columns:auto 1fr auto 1fr auto;gap:10px;align-items:center;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:10px 14px;font-size:.83rem;animation:fadeIn .3s ease}
.hi-lang{font-size:.7rem;color:var(--text-muted);white-space:nowrap;background:var(--surface);border:1px solid var(--border);border-radius:4px;padding:2px 6px}
.hi-src{color:var(--text-muted)}
.hi-arrow{color:var(--accent);font-size:.9rem;text-align:center}
.hi-tgt{color:#93c5fd;font-weight:500}

.btn-ghost{background:transparent;border:1px solid var(--border);border-radius:7px;padding:5px 12px;color:var(--text-muted);font-size:.8rem;cursor:pointer;font-family:'Inter',sans-serif;transition:all .2s}
.btn-ghost:hover{border-color:var(--accent);color:var(--accent)}

/* ── DOCUMENT TRANSLATION ── */
.lang-select{background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:8px 12px;color:var(--text);font-family:'Inter',sans-serif;font-size:.85rem;outline:none;cursor:pointer;min-width:160px}
.lang-select:focus{border-color:var(--accent)}
.doc-lang-row{display:flex;align-items:flex-end;gap:20px;margin-bottom:20px}
.doc-arrow{font-size:1.3rem;color:var(--accent);padding-bottom:8px}
.upload-zone{border:2px dashed var(--border);border-radius:12px;padding:40px;text-align:center;cursor:pointer;transition:all .2s;margin-bottom:16px}
.upload-zone:hover{border-color:var(--accent);background:rgba(59,130,246,.04)}
.upload-icon{font-size:2.5rem;margin-bottom:12px}
.upload-text{color:var(--text-muted);font-size:.88rem}
.doc-preview{background:var(--surface2);border:1px solid var(--border);border-radius:10px;padding:16px;margin-bottom:16px}
.doc-preview-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.doc-wc{font-size:.75rem;color:var(--text-muted);background:var(--surface);border:1px solid var(--border);border-radius:4px;padding:2px 8px}
.doc-text{font-size:.85rem;line-height:1.8;color:var(--text-muted);max-height:200px;overflow-y:auto;white-space:pre-wrap}
.doc-progress{margin:16px 0}
.doc-progress-bar{height:6px;background:var(--surface2);border-radius:3px;overflow:hidden;margin-bottom:8px}
.doc-progress-fill{height:100%;width:0;background:linear-gradient(90deg,var(--accent),var(--accent2));border-radius:3px;transition:width .3s ease}
.doc-result{margin-top:20px;animation:fadeIn .4s ease}
.doc-result-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.doc-result-title{font-size:.9rem;font-weight:600;color:var(--success)}
.doc-translated{color:#93c5fd;background:rgba(59,130,246,.05);border-color:rgba(59,130,246,.2);border-radius:8px;padding:16px}

/* ── CONVERSATION MODE ── */
.conv-setup{display:grid;grid-template-columns:1fr auto 1fr;gap:20px;align-items:center;margin-bottom:20px}
.conv-person{display:flex;flex-direction:column;align-items:center;gap:8px}
.conv-vs{font-size:1.5rem;color:var(--accent);text-align:center}
.conv-avatar{width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.1rem}
.conv-avatar-a{background:linear-gradient(135deg,var(--accent),#60a5fa);color:#fff}
.conv-avatar-b{background:linear-gradient(135deg,var(--accent2),#a78bfa);color:#fff}
.conv-chat{min-height:300px;max-height:400px;overflow-y:auto;background:var(--surface2);border:1px solid var(--border);border-radius:12px;padding:16px;margin-bottom:16px;display:flex;flex-direction:column;gap:12px}
.conv-empty{color:var(--text-muted);font-size:.85rem;text-align:center;margin:auto}
.conv-bubble{max-width:75%;padding:12px 16px;border-radius:16px;font-size:.88rem;line-height:1.6;animation:fadeIn .3s ease}
.conv-bubble-a{align-self:flex-start;background:rgba(59,130,246,.15);border:1px solid rgba(59,130,246,.25);border-bottom-left-radius:4px}
.conv-bubble-b{align-self:flex-end;background:rgba(139,92,246,.15);border:1px solid rgba(139,92,246,.25);border-bottom-right-radius:4px}
.conv-bubble-original{font-size:.78rem;color:var(--text-muted);margin-bottom:4px}
.conv-bubble-translated{color:var(--text);font-weight:500}
.conv-bubble-lang{font-size:.7rem;color:var(--text-muted);margin-top:4px}
.conv-inputs{display:flex;flex-direction:column;gap:10px;margin-bottom:12px}
.conv-input-row{display:flex;align-items:center;gap:10px}
.conv-input{flex:1;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:10px 14px;color:var(--text);font-family:'Inter',sans-serif;font-size:.88rem;outline:none;transition:border-color .2s}
.conv-input:focus{border-color:var(--accent)}
.conv-send-btn{padding:10px 18px;border:none;border-radius:8px;font-weight:600;font-size:.82rem;cursor:pointer;font-family:'Inter',sans-serif;transition:all .2s;white-space:nowrap}
.conv-btn-a{background:linear-gradient(135deg,var(--accent),#60a5fa);color:#fff}
.conv-btn-b{background:linear-gradient(135deg,var(--accent2),#a78bfa);color:#fff}
.conv-footer{text-align:right}

/* ── BLEU SCORE VISUALIZER ── */
.bleu-summary-row{display:grid;grid-template-columns:1fr auto 1fr 1fr;gap:16px;align-items:center;margin-bottom:28px}
.bleu-summary-card{background:var(--surface2);border:1px solid var(--border);border-radius:10px;padding:16px;text-align:center}
.bleu-summary-card--good{border-color:rgba(16,185,129,.4);background:rgba(16,185,129,.08)}
.bleu-summary-card--accent{border-color:rgba(59,130,246,.4);background:rgba(59,130,246,.08)}
.bleu-summary-val{font-size:1.8rem;font-weight:700;font-family:'JetBrains Mono',monospace;color:var(--accent)}
.bleu-summary-card--good .bleu-summary-val{color:var(--success)}
.bleu-summary-card--accent .bleu-summary-val{color:var(--accent)}
.bleu-summary-arrow{font-size:1.5rem;color:var(--accent);text-align:center}
.bleu-summary-label{font-size:.75rem;color:var(--text-muted);margin-top:4px}
.bleu-section-title{font-size:.9rem;font-weight:600;color:var(--text);margin:24px 0 16px}
.bleu-chart{display:flex;flex-direction:column;gap:16px}
.bleu-row{display:grid;grid-template-columns:80px 1fr 1fr;gap:12px;align-items:center}
.bleu-lang{font-size:.82rem;font-weight:600;color:var(--text)}
.bleu-bars{display:flex;flex-direction:column;gap:6px}
.bleu-bar-wrap{display:flex;align-items:center;gap:8px}
.bleu-bar-label{font-size:.7rem;color:var(--text-muted);width:60px;text-align:right}
.bleu-bar-bg{flex:1;height:18px;background:var(--surface2);border-radius:4px;overflow:hidden}
.bleu-bar-fill{height:100%;border-radius:4px;display:flex;align-items:center;padding-left:8px;font-size:.68rem;font-weight:600;color:#fff;transition:width 1s ease}
.bleu-bar-baseline{background:rgba(148,163,184,.4)}
.bleu-bar-finetuned{background:linear-gradient(90deg,var(--accent),var(--accent3))}
.bleu-val{font-size:.72rem;color:var(--text-muted);width:36px}

/* Loss Chart */
.loss-chart{background:var(--surface2);border:1px solid var(--border);border-radius:10px;padding:20px}
.loss-svg-wrap{position:relative;height:180px}
.loss-svg-wrap svg{width:100%;height:100%}

/* Dataset Stats */
.dataset-stats{display:grid;grid-template-columns:repeat(6,1fr);gap:12px;margin-bottom:8px}
.stat-card{background:var(--surface2);border:1px solid var(--border);border-radius:10px;padding:14px;text-align:center}
.stat-val{font-size:1.3rem;font-weight:700;font-family:'JetBrains Mono',monospace;color:var(--accent2)}
.stat-label{font-size:.7rem;color:var(--text-muted);margin-top:4px}

/* Domain Bars */
.domain-bars{display:flex;flex-direction:column;gap:10px}
.domain-bar-row{display:flex;align-items:center;gap:12px}
.domain-name{font-size:.8rem;color:var(--text-muted);width:140px;text-align:right;flex-shrink:0}
.domain-bar{background:linear-gradient(90deg,var(--accent2),var(--accent));border-radius:4px;height:24px;display:flex;align-items:center;padding-left:10px;font-size:.72rem;font-weight:600;color:#fff;min-width:40px;transition:width 1s ease}

footer{text-align:center;padding:24px;color:var(--text-muted);font-size:.78rem;border-top:1px solid var(--border);margin-top:20px}

/* Animations */
@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}
@keyframes mic-pulse{0%{box-shadow:0 0 0 0 rgba(239,68,68,.5)}70%{box-shadow:0 0 0 18px rgba(239,68,68,0)}100%{box-shadow:0 0 0 0 rgba(239,68,68,0)}}
@keyframes wave{0%,100%{transform:scaleY(.4)}50%{transform:scaleY(1)}}
@keyframes spin{to{transform:rotate(360deg)}}

/* Responsive */
@media(max-width:720px){
  .lang-selector-row,.input-split{grid-template-columns:1fr}
  .swap-btn{align-self:center;margin:0 auto}
  .or-divider{padding:4px 0}
  .result-grid{grid-template-columns:1fr}
  .result-arrow{display:none}
  .metrics-row{grid-template-columns:1fr 1fr}
  .history-item{grid-template-columns:1fr 1fr}
  .tab-btn{padding:12px 12px;font-size:.78rem}
  .bleu-summary-row{grid-template-columns:1fr 1fr}
  .dataset-stats{grid-template-columns:repeat(3,1fr)}
  .conv-setup{grid-template-columns:1fr}
  .doc-lang-row{flex-direction:column;gap:10px}
  .brand-sub{display:none}
}
